<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ CEMECE Challenge 2025: Examen de Codificaci√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Roboto, system-ui, sans-serif;
        }
        body {
            background: linear-gradient(145deg, #f0f4fa 0%, #d9e4f0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            padding: 2rem 1rem;
        }
        .exam-container {
            max-width: 1100px;
            width: 100%;
            background: rgba(255,255,255,0.75);
            backdrop-filter: blur(3px);
            border-radius: 3rem 3rem 2rem 2rem;
            box-shadow: 0 25px 50px -12px rgba(0,20,40,0.5), inset 0 1px 3px #ffffffaa;
            padding: 2rem 2rem 3rem;
            border: 2px solid #ffffff80;
        }
        /* Header elegante y l√∫dico */
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2.5rem;
            background: #0b2a4f;
            background: linear-gradient(135deg, #10345e, #1b4a7a);
            padding: 1.5rem 2.2rem;
            border-radius: 3rem 3rem 2rem 2rem;
            color: white;
            box-shadow: 0 12px 0 #082032, 0 10px 20px #00000030;
            border-bottom: 6px solid #ffb74d;
        }
        .header h1 {
            font-size: 2.2rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .header h1 span {
            background: #f6c445;
            color: #1e2f4b;
            font-size: 1.8rem;
            padding: 0.4rem 0.9rem;
            border-radius: 60px;
            box-shadow: inset 0 -4px 0 #b2750e;
        }
        .badge {
            background: #56ab91;
            padding: 0.6rem 1.5rem;
            border-radius: 40px;
            font-weight: 600;
            font-size: 1.3rem;
            box-shadow: inset 0 -4px 0 #2a6b56, 0 4px 10px #00000040;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .badge img { width: 28px; filter: invert(1); }
        /* progreso */
        .progress-section {
            background: #ffffffee;
            border-radius: 100px;
            padding: 0.3rem 0.3rem 0.3rem 1.8rem;
            margin: 1.5rem 0 2rem;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            border: 2px solid white;
            box-shadow: 0 4px 8px #0000001a;
        }
        .q-counter {
            font-weight: 700;
            color: #0f3b6a;
            font-size: 1.3rem;
        }
        .q-counter span {
            background: #f0b41b;
            padding: 0.3rem 1rem;
            border-radius: 40px;
            margin-left: 10px;
            color: #1e2f4b;
        }
        .progress-bar {
            background: #c0d4ec;
            height: 16px;
            width: 40%;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px #00000020;
        }
        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #37b26b, #8dd66b);
            border-radius: 30px;
            transition: width 0.3s ease;
            box-shadow: 0 0 15px #7bef7b;
        }
        .score-board {
            background: #e13b3b;
            background: linear-gradient(145deg, #f75c5c, #cd2e2e);
            padding: 0.6rem 2rem;
            border-radius: 60px;
            font-weight: 800;
            font-size: 1.5rem;
            color: #fff1b8;
            box-shadow: inset 0 -5px 0 #801515, 0 4px 12px black;
        }
        /* grid de preguntas */
        .questions-grid {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin: 2.5rem 0 2rem;
        }
        .question-card {
            background: #ffffffdd;
            backdrop-filter: blur(4px);
            border-radius: 2.5rem 2.5rem 2rem 2rem;
            padding: 1.6rem 2rem;
            border: 3px solid white;
            box-shadow: 0 10px 18px #0000001a, 0 0 0 2px #306cbb40 inset;
            transition: all 0.2s;
        }
        .question-card:hover {
            transform: scale(1.01) translateY(-4px);
            background: white;
            border-color: #ffc164;
        }
        .q-num {
            background: #1f5392;
            display: inline-block;
            color: white;
            font-weight: 800;
            font-size: 1.1rem;
            padding: 0.2rem 1.4rem;
            border-radius: 40px;
            margin-bottom: 1rem;
            letter-spacing: 1px;
            border-left: 8px solid #fbc02d;
        }
        .q-text {
            font-size: 1.4rem;
            font-weight: 600;
            color: #01254e;
            margin-bottom: 1.5rem;
            line-height: 1.4;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .option {
            background: #f1f7ff;
            border-radius: 50px;
            border: 2px solid #bed3f0;
            padding: 0.8rem 1.8rem;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.15s;
            font-size: 1.2rem;
            font-weight: 500;
            color: #052242;
        }
        .option:hover {
            background: #d5e6ff;
            border-color: #f7b731;
            box-shadow: 0 6px 0 #7f9bc2;
            transform: translateY(-3px);
        }
        .option.selected {
            background: #c7e2b7;
            border-color: #258f4b;
            box-shadow: 0 5px 0 #1a5e33;
            color: #003d1d;
            font-weight: 700;
        }
        .option input[type="radio"] {
            appearance: none;
            width: 22px;
            height: 22px;
            border: 3px solid #305f9e;
            border-radius: 50%;
            margin-right: 20px;
            position: relative;
            transition: 0.1s;
        }
        .option input[type="radio"]:checked {
            background: #f3b13b;
            border-color: #172f4f;
            box-shadow: 0 0 0 3px #ffe484;
        }
        .option input[type="radio"]:checked::after {
            content: "‚úì";
            position: absolute;
            top: -6px;
            left: 3px;
            font-size: 1.8rem;
            color: #1e4700;
        }
        /* pie y botones */
        .action-bar {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            background: #b2cde0;
            padding: 1.2rem 2.2rem;
            border-radius: 60px;
            margin-top: 3rem;
            border: 3px solid white;
        }
        .btn {
            background: #1b3b5c;
            border: none;
            color: white;
            font-weight: 800;
            font-size: 1.5rem;
            padding: 0.8rem 2.5rem;
            border-radius: 50px;
            box-shadow: 0 9px 0 #0a1c2b, 0 4px 18px #00000040;
            cursor: pointer;
            transition: 0.05s linear;
            border: 2px solid #7fb4ff;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }
        .btn:active {
            transform: translateY(6px);
            box-shadow: 0 3px 0 #0a1c2b;
        }
        .btn.reset {
            background: #6b3f2b;
            box-shadow: 0 9px 0 #3e2419;
        }
        .result-popup {
            background: #fffedf;
            border-radius: 50px;
            padding: 0.8rem 2.2rem;
            font-size: 2rem;
            font-weight: 800;
            color: #00337a;
            border: 5px dashed #fba905;
        }
        footer {
            text-align: center;
            margin-top: 2rem;
            color: #203a60;
            font-weight: 600;
            background: #ffffff70;
            padding: 0.8rem;
            border-radius: 40px;
        }
    </style>
</head>
<body>
    <div class="exam-container" id="examContainer">
        <div class="header">
            <h1>
                üìã CEMECE 2025 
                <span>üíâ AUXILIARES</span>
            </h1>
            <div class="badge">
                üß¨ 30 reactivos ¬∑ segundo semestre 
            </div>
        </div>
        <!-- info din√°mica -->
        <div class="progress-section">
            <div class="q-counter" id="qCounter">Preguntas <span id="answeredCount">0</span>/30</div>
            <div class="progress-bar"><div class="progress-fill" id="progressFill" style="width:0%"></div></div>
            <div class="score-board" id="scoreDisplay">üíØ 0</div>
        </div>
        <!-- contenedor preguntas -->
        <div id="questionsContainer" class="questions-grid"></div>

        <div class="action-bar">
            <button class="btn reset" id="resetBtn">‚ü≤ Reiniciar</button>
            <button class="btn" id="submitBtn">‚úÖ Calificar</button>
            <div class="result-popup" id="resultMessage">¬°responde!</div>
        </div>
        <footer>üìå Basado en acuerdos CEMECE 2025 ¬∑ COVID-19 ¬∑ fentanilo ¬∑ accidentes ¬∑ obstetricia</footer>
    </div>

    <script>
        (function() {
            // ----- 30 PREGUNTAS (opci√≥n m√∫ltiple) extr√≠das del PDF -----
            const questions = [
                {
                    text: "Seg√∫n los acuerdos, ¬øqu√© c√≥digo debe asignarse a 'Abdomen congelado' en mujeres?",
                    options: ["K66.0", "N73.6", "R19.0", "K65.0"],
                    correct: 1 // N73.6
                },
                {
                    text: "¬øCu√°l es el c√≥digo para 'Apnea emotiva' adquirida despu√©s de los 28 d√≠as de edad?",
                    options: ["P28.4", "R06.8", "J98.8", "W84.-"],
                    correct: 1 // R06.8
                },
                {
                    text: "En mortalidad, cuando 'Broncoaspiraci√≥n' se informa sola en >28 d√≠as sin intencionalidad, se codifica:",
                    options: ["T17.5", "W84.-", "J98.8", "P24.9"],
                    correct: 2 // J98.8
                },
                {
                    text: "El c√≥digo U94.0 corresponde a:",
                    options: ["Intoxicaci√≥n por fentanilo no determinada", "Intoxicaci√≥n accidental por fentanilo", "Reacci√≥n adversa a fentanilo", "Intoxicaci√≥n por fentanilo como agresi√≥n"],
                    correct: 1 // U94.0
                },
                {
                    text: "Para clasificar 'choque s√©ptico del reci√©n nacido' como causa b√°sica se utiliza (despu√©s de revisi√≥n):",
                    options: ["R57.2", "P36.9", "A41.9", "P96.8"],
                    correct: 1 // P36.9
                },
                {
                    text: "En un certificado de defunci√≥n materna con COVID-19 como causa b√°sica, el c√≥digo a emplear es:",
                    options: ["U07.1", "O98.5", "U07.2", "B34.2"],
                    correct: 1 // O98.5
                },
                {
                    text: "El c√≥digo U09.9 (condici√≥n posterior a COVID-19) NO debe usarse cuando:",
                    options: ["Hay secuelas", "El paciente a√∫n presenta COVID-19 activo", "Se desea relacionar con COVID antiguo", "En morbilidad como c√≥digo adicional"],
                    correct: 1 // activo
                },
                {
                    text: "Para 'Interrupci√≥n Legal del Embarazo (ILE) por violaci√≥n' con legrado por aspiraci√≥n, el c√≥digo de procedimiento es:",
                    options: ["69.01", "69.51", "75.A1", "75.0X"],
                    correct: 1 // 69.51
                },
                {
                    text: "Seg√∫n acuerdo para 'Colitis neutrop√©nica' el c√≥digo es:",
                    options: ["K52.1", "M24.4", "K59.3", "K52.9"],
                    correct: 0 // K52.1
                },
                {
                    text: "Un peat√≥n atropellado en una avenida (v√≠a p√∫blica) sin menci√≥n de veh√≠culo espec√≠fico se codifica como:",
                    options: ["V09.2", "V09.3", "V09.9", "V89.2"],
                    correct: 1 // V09.3
                },
                {
                    text: "¬øQu√© categor√≠a NO debe aceptarse como 'debida a' otras afecciones, seg√∫n secuencias rechazadas?",
                    options: ["Influenza (J09-J11)", "Diabetes mellitus", "Neumon√≠a", "Sepsis"],
                    correct: 0 // influenza
                },
                {
                    text: "Seg√∫n actualizaciones CIE-10 2019-2021, el c√≥digo para 'par√°lisis facial de neurona motora superior' es:",
                    options: ["G51.0", "G83.6", "G90.5", "G90.6"],
                    correct: 1 // G83.6
                },
                {
                    text: "¬øCu√°l es el c√≥digo para 'Pinchazo en el metro' (agresi√≥n con drogas) como causa externa?",
                    options: ["X85.-", "Y05.-", "X99.-", "Y09.9"],
                    correct: 0 // X85.-
                },
                {
                    text: "En un reci√©n nacido de madre con sospecha de COVID-19 al nacer (certificado de nacimiento), se asigna:",
                    options: ["P00.2", "Z20.8 (U07.2)", "U07.1", "O98.5"],
                    correct: 1 // Z20.8 con U07.2
                },
                {
                    text: "El c√≥digo de uso emergente para intoxicaci√≥n intencional autoinfligida por fentanilo es:",
                    options: ["U94.0", "U94.1", "U94.2", "U94.9"],
                    correct: 1 // U94.1
                },
                {
                    text: "La categor√≠a M45 (Espondilitis anquilosante) se desagreg√≥ por sitio. ¬øCu√°l es el c√≥digo para 'regi√≥n toracolumbar'?",
                    options: ["M45.5", "M45.4", "M45.6", "M45.3"],
                    correct: 0 // M45.5
                },
                {
                    text: "Para una defunci√≥n por 'neumon√≠a por COVID-19' (virus identificado) en un mismo rengl√≥n, el orden seg√∫n acuerdo CEMECE es:",
                    options: ["J12.8, U07.1", "U07.1, J12.8", "U07.2, J12.8", "J12.8, U07.2"],
                    correct: 1 // U07.1 , J12.8
                },
                {
                    text: "La hemorragia postparto debida a aton√≠a uterina se codifica en mortalidad como:",
                    options: ["O72.1", "O75.4", "O99.8", "O67.9"],
                    correct: 0 // O72.1
                },
                {
                    text: "Si un diagn√≥stico dice 's√≠ndrome de Sheehan' en una defunci√≥n materna, se considera causa b√°sica y se mantiene en:",
                    options: ["E23.0", "O99.8", "O75.9", "I99.X"],
                    correct: 0 // E23.0
                },
                {
                    text: "El c√≥digo para 'vacuna COVID-19 AstraZeneca que causa efecto adverso' (vacuna espec√≠fica) en morbilidad es:",
                    options: ["U12.9", "U93.0", "Y59.0", "U11.9"],
                    correct: 1 // U93.0
                },
                {
                    text: "Seg√∫n la tabla de accidentes, un choque de veh√≠culo de motor contra objeto fijo (sin m√°s datos) se clasifica:",
                    options: ["V89.2", "V87.7", "V89.9", "V09.2"],
                    correct: 0 // V89.2
                },
                {
                    text: "En el paso SP6 (causa obvia), si se informa 'criptococosis' junto con 'enfermedad por VIH' ¬øqu√© se selecciona?",
                    options: ["Criptococosis", "VIH (B20-B24)", "Depleci√≥n volumen", "Ninguna"],
                    correct: 1 // VIH
                },
                {
                    text: "El c√≥digo para 'historia personal de COVID-19' (solo morbilidad) es:",
                    options: ["U08.9", "U09.9", "U07.2", "Z86.1"],
                    correct: 0 // U08.9
                },
                {
                    text: "Una paciente con 'baja reserva fetal durante el trabajo de parto' se codifica:",
                    options: ["P20.9", "O68.9", "O36.3", "O63.9"],
                    correct: 1 // O68.9
                },
                {
                    text: "¬øQu√© afecci√≥n NO debe emplearse para causa b√°sica? (c√≥digos que no deben usarse):",
                    options: ["I15.1 (si no se conoce causa)", "N18.-", "I10", "J44.9"],
                    correct: 0 // I15.1
                },
                {
                    text: "Seg√∫n acuerdo, 'cardiopat√≠a mixta' (en adulto mayor + cervicoclopitis) se desglosa en:",
                    options: ["R54.X y N72.X", "I25.1 e I51.7", "I11.9 y N72", "I51.9 y R54"],
                    correct: 0 // R54.X y N72.X
                },
                {
                    text: "El c√≥digo para 'mordedura de serpiente de cascabel' (naturaleza) es:",
                    options: ["T63.0, X20", "U60.0", "W59.-", "X22"],
                    correct: 1 // U60.0
                },
                {
                    text: "La 'encefalitis por virus del Zika cong√©nita' se codifica en:",
                    options: ["P35.3", "A92.5", "U06.9", "Q02"],
                    correct: 0 // P35.3
                },
                {
                    text: "Una volcadura de veh√≠culo de motor en carretera, sin especificar veh√≠culo, se clasifica como:",
                    options: ["V89.2", "V48.5", "V89.0", "V87.7"],
                    correct: 0 // V89.2
                },
                {
                    text: "El c√≥digo para PCR (reacci√≥n en cadena de polimerasa) para COVID-19 en CIE-9-MC vol.3 es:",
                    options: ["00.J5", "00.J2", "90.9A", "99.4I"],
                    correct: 0 // 00.J5
                }
            ];

            const totalQ = questions.length;
            let selectedAnswers = new Array(totalQ).fill(null);
            let submitted = false;
            let score = 0;

            const container = document.getElementById('questionsContainer');
            const answeredSpan = document.getElementById('answeredCount');
            const progressFill = document.getElementById('progressFill');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const resultMsg = document.getElementById('resultMessage');
            const resetBtn = document.getElementById('resetBtn');
            const submitBtn = document.getElementById('submitBtn');

            function renderQuestions() {
                let html = '';
                questions.forEach((q, idx) => {
                    const selectedIdx = selectedAnswers[idx];
                    let optionsHtml = '';
                    q.options.forEach((opt, optIdx) => {
                        const checkedAttr = (selectedIdx === optIdx) ? 'selected' : '';
                        optionsHtml += `
                            <div class="option ${(selectedIdx === optIdx) ? 'selected' : ''}" data-qidx="${idx}" data-oidx="${optIdx}">
                                <input type="radio" name="q${idx}" value="${optIdx}" ${(selectedIdx === optIdx) ? 'checked' : ''}>
                                ${opt}
                            </div>
                        `;
                    });
                    html += `
                        <div class="question-card" id="q-${idx}">
                            <div class="q-num">Pregunta ${idx+1} / 30</div>
                            <div class="q-text">${q.text}</div>
                            <div class="options">${optionsHtml}</div>
                        </div>
                    `;
                });
                container.innerHTML = html;
                attachListeners();
                updateProgress();
            }

            function attachListeners() {
                document.querySelectorAll('.option').forEach(optDiv => {
                    optDiv.addEventListener('click', function(e) {
                        if (submitted) return; // no cambiar despu√©s de calificar
                        const qIdx = parseInt(this.dataset.qidx);
                        const oIdx = parseInt(this.dataset.oidx);
                        // deseleccionar mismos
                        selectedAnswers[qIdx] = oIdx;
                        // redibujar todo para consistencia
                        renderQuestions();
                    });
                });
            }

            function updateProgress() {
                const answered = selectedAnswers.filter(a => a !== null).length;
                answeredSpan.innerText = answered;
                progressFill.style.width = `${(answered/totalQ)*100}%`;
                if (!submitted) {
                    scoreDisplay.innerText = 'üíØ ?';
                    resultMsg.innerText = answered === totalQ ? 'üìå listo para calificar' : '‚úèÔ∏è sigue eligiendo';
                }
            }

            function calculateScore() {
                let correctCount = 0;
                selectedAnswers.forEach((ans, idx) => {
                    if (ans !== null && ans === questions[idx].correct) correctCount++;
                });
                score = correctCount;
                return correctCount;
            }

            function showResults() {
                submitted = true;
                const correct = calculateScore();
                scoreDisplay.innerText = `üíØ ${correct}/30`;
                const percent = (correct/totalQ)*100;
                if (percent >= 90) resultMsg.innerText = 'üèÜ ¬°Excelente!';
                else if (percent >= 70) resultMsg.innerText = 'üéâ Muy bien';
                else if (percent >= 50) resultMsg.innerText = 'üëç Regular, sigue estudiando';
                else resultMsg.innerText = 'üìö Necesitas repasar los acuerdos';

                // opcional: marcar visualmente las correctas/incorrectas?
                // No se pidi√≥, pero podemos dejar que no se pueda cambiar.
                disableOptions();
            }

            function disableOptions() {
                document.querySelectorAll('.option input[type="radio"]').forEach(radio => radio.disabled = true);
            }

            function resetExam() {
                selectedAnswers = new Array(totalQ).fill(null);
                submitted = false;
                renderQuestions();
                updateProgress();
                scoreDisplay.innerText = 'üíØ 0';
                resultMsg.innerText = '¬°responde!';
            }

            submitBtn.addEventListener('click', function() {
                if (selectedAnswers.includes(null)) {
                    alert('‚ö†Ô∏è Faltan preguntas por responder. Revisa las que est√°n en blanco.');
                    return;
                }
                showResults();
            });

            resetBtn.addEventListener('click', resetExam);

            // inicial
            renderQuestions();
            updateProgress();
        })();
    </script>
</body>
</html>